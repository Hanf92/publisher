!function(n,t){"function"==typeof define&&define.amd?define([],function(){return t()}):"object"==typeof exports?module.exports=t():window.publisher=t()}("object"==typeof window&&window,function(){"use strict";const n={};function t(n){throw new Error(n)}function e(n){let t,e,o=1,i=0;if(n)for(o=0,t=n.length-1;t>=0;t--)o=0!==(i=266338304&(o=(o<<6&268435455)+(e=n.charCodeAt(t))+(e<<14)))?o^i>>21:o;return String(o)}function o(t,o){let i=e(o.toString());n[t].push({fn:o,randomString:i})}function i(t){return"object"==typeof n[t]}function f(t,o){1===n[t].length?delete n[t]:function(t,o){const i=n[t];let f=e(o.toString()),r=i.findIndex(n=>n.randomString===f);i.splice(r,1)}(t,o)}return{subscribe:function(e,r){if("function"!=typeof r||"string"!=typeof e){t("first argument must be a string second argument must be a function")}return function(t,e){i(t)?o(t,e):(n[t]=[],o(t,e))}(e,r),function(){f(e,r)}},emit:function(e,o){if(!i(e)){t("event not exist")}let f=n[e];for(let n=0;n<f.length;n++)f[n].fn(o)}}});